function cov_1lknkjwzet(){var path="C:\\Users\\shara\\Documents\\DVOPS_Projects\\StudentSphere-sha\\utils\\updateStudentUtil.js";var hash="c5f993c589b1aa8c41794cae31f162ddfb8f488c";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\shara\\Documents\\DVOPS_Projects\\StudentSphere-sha\\utils\\updateStudentUtil.js",statementMap:{"0":{start:{line:1,column:25},end:{line:1,column:38}},"1":{start:{line:4,column:4},end:{line:10,column:5}},"2":{start:{line:5,column:21},end:{line:5,column:56}},"3":{start:{line:6,column:8},end:{line:6,column:32}},"4":{start:{line:8,column:8},end:{line:8,column:62}},"5":{start:{line:9,column:8},end:{line:9,column:48}},"6":{start:{line:14,column:4},end:{line:19,column:5}},"7":{start:{line:15,column:8},end:{line:15,column:76}},"8":{start:{line:17,column:8},end:{line:17,column:65}},"9":{start:{line:18,column:8},end:{line:18,column:48}},"10":{start:{line:23,column:4},end:{line:92,column:5}},"11":{start:{line:24,column:19},end:{line:24,column:32}},"12":{start:{line:25,column:78},end:{line:25,column:86}},"13":{start:{line:28,column:8},end:{line:35,column:9}},"14":{start:{line:34,column:12},end:{line:34,column:112}},"15":{start:{line:38,column:27},end:{line:38,column:55}},"16":{start:{line:39,column:8},end:{line:41,column:9}},"17":{start:{line:40,column:12},end:{line:40,column:78}},"18":{start:{line:44,column:8},end:{line:46,column:9}},"19":{start:{line:45,column:12},end:{line:45,column:97}},"20":{start:{line:48,column:28},end:{line:48,column:65}},"21":{start:{line:49,column:27},end:{line:49,column:32}},"22":{start:{line:50,column:24},end:{line:50,column:29}},"23":{start:{line:52,column:8},end:{line:77,column:9}},"24":{start:{line:52,column:21},end:{line:52,column:22}},"25":{start:{line:53,column:12},end:{line:76,column:13}},"26":{start:{line:54,column:16},end:{line:54,column:36}},"27":{start:{line:57,column:40},end:{line:57,column:54}},"28":{start:{line:58,column:16},end:{line:75,column:17}},"29":{start:{line:66,column:20},end:{line:66,column:37}},"30":{start:{line:69,column:20},end:{line:69,column:47}},"31":{start:{line:70,column:20},end:{line:70,column:61}},"32":{start:{line:71,column:20},end:{line:71,column:65}},"33":{start:{line:72,column:20},end:{line:72,column:49}},"34":{start:{line:73,column:20},end:{line:73,column:59}},"35":{start:{line:74,column:20},end:{line:74,column:51}},"36":{start:{line:79,column:8},end:{line:81,column:9}},"37":{start:{line:80,column:12},end:{line:80,column:75}},"38":{start:{line:83,column:8},end:{line:85,column:9}},"39":{start:{line:84,column:12},end:{line:84,column:111}},"40":{start:{line:87,column:8},end:{line:87,column:60}},"41":{start:{line:88,column:8},end:{line:88,column:83}},"42":{start:{line:91,column:8},end:{line:91,column:64}},"43":{start:{line:95,column:0},end:{line:99,column:2}}},fnMap:{"0":{name:"readJSON",decl:{start:{line:3,column:15},end:{line:3,column:23}},loc:{start:{line:3,column:34},end:{line:11,column:1}},line:3},"1":{name:"writeJSON",decl:{start:{line:13,column:15},end:{line:13,column:24}},loc:{start:{line:13,column:41},end:{line:20,column:1}},line:13},"2":{name:"editStudent",decl:{start:{line:22,column:15},end:{line:22,column:26}},loc:{start:{line:22,column:37},end:{line:93,column:1}},line:22}},branchMap:{"0":{loc:{start:{line:28,column:8},end:{line:35,column:9}},type:"if",locations:[{start:{line:28,column:8},end:{line:35,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:28},"1":{loc:{start:{line:28,column:12},end:{line:33,column:43}},type:"binary-expr",locations:[{start:{line:28,column:12},end:{line:28,column:17}},{start:{line:28,column:21},end:{line:28,column:39}},{start:{line:29,column:12},end:{line:29,column:22}},{start:{line:29,column:26},end:{line:29,column:49}},{start:{line:30,column:12},end:{line:30,column:26}},{start:{line:31,column:12},end:{line:31,column:18}},{start:{line:32,column:12},end:{line:32,column:23}},{start:{line:33,column:12},end:{line:33,column:19}},{start:{line:33,column:23},end:{line:33,column:43}}],line:28},"2":{loc:{start:{line:39,column:8},end:{line:41,column:9}},type:"if",locations:[{start:{line:39,column:8},end:{line:41,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:39},"3":{loc:{start:{line:44,column:8},end:{line:46,column:9}},type:"if",locations:[{start:{line:44,column:8},end:{line:46,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:44},"4":{loc:{start:{line:44,column:12},end:{line:44,column:56}},type:"binary-expr",locations:[{start:{line:44,column:12},end:{line:44,column:35}},{start:{line:44,column:39},end:{line:44,column:56}}],line:44},"5":{loc:{start:{line:53,column:12},end:{line:76,column:13}},type:"if",locations:[{start:{line:53,column:12},end:{line:76,column:13}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:53},"6":{loc:{start:{line:58,column:16},end:{line:75,column:17}},type:"if",locations:[{start:{line:58,column:16},end:{line:75,column:17}},{start:{line:67,column:23},end:{line:75,column:17}}],line:58},"7":{loc:{start:{line:59,column:20},end:{line:64,column:53}},type:"binary-expr",locations:[{start:{line:59,column:20},end:{line:59,column:49}},{start:{line:60,column:20},end:{line:60,column:63}},{start:{line:61,column:20},end:{line:61,column:67}},{start:{line:62,column:20},end:{line:62,column:51}},{start:{line:63,column:20},end:{line:63,column:61}},{start:{line:64,column:20},end:{line:64,column:53}}],line:59},"8":{loc:{start:{line:79,column:8},end:{line:81,column:9}},type:"if",locations:[{start:{line:79,column:8},end:{line:81,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:79},"9":{loc:{start:{line:83,column:8},end:{line:85,column:9}},type:"if",locations:[{start:{line:83,column:8},end:{line:85,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:83}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0},f:{"0":0,"1":0,"2":0},b:{"0":[0,0],"1":[0,0,0,0,0,0,0,0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0,0,0,0,0],"8":[0,0],"9":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c5f993c589b1aa8c41794cae31f162ddfb8f488c"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1lknkjwzet=function(){return actualCoverage;};}return actualCoverage;}cov_1lknkjwzet();const{promises:fs}=(cov_1lknkjwzet().s[0]++,require('fs'));async function readJSON(filename){cov_1lknkjwzet().f[0]++;cov_1lknkjwzet().s[1]++;try{const data=(cov_1lknkjwzet().s[2]++,await fs.readFile(filename,'utf8'));cov_1lknkjwzet().s[3]++;return JSON.parse(data);}catch(err){cov_1lknkjwzet().s[4]++;console.error(`Error reading file: ${filename}`,err);cov_1lknkjwzet().s[5]++;throw new Error('Could not read data.');}}async function writeJSON(data,filename){cov_1lknkjwzet().f[1]++;cov_1lknkjwzet().s[6]++;try{cov_1lknkjwzet().s[7]++;await fs.writeFile(filename,JSON.stringify(data,null,2),'utf8');}catch(err){cov_1lknkjwzet().s[8]++;console.error(`Error writing to file: ${filename}`,err);cov_1lknkjwzet().s[9]++;throw new Error('Could not save data.');}}async function editStudent(req,res){cov_1lknkjwzet().f[2]++;cov_1lknkjwzet().s[10]++;try{const id=(cov_1lknkjwzet().s[11]++,req.params.id);const{name,matric_no,date_of_birth,email,contact_no,course}=(cov_1lknkjwzet().s[12]++,req.body);// Check for empty fields or fields with only spaces
cov_1lknkjwzet().s[13]++;if((cov_1lknkjwzet().b[1][0]++,!name)||(cov_1lknkjwzet().b[1][1]++,name.trim()==="")||(cov_1lknkjwzet().b[1][2]++,!matric_no)||(cov_1lknkjwzet().b[1][3]++,matric_no.trim()==="")||(cov_1lknkjwzet().b[1][4]++,!date_of_birth)||(cov_1lknkjwzet().b[1][5]++,!email)||(cov_1lknkjwzet().b[1][6]++,!contact_no)||(cov_1lknkjwzet().b[1][7]++,!course)||(cov_1lknkjwzet().b[1][8]++,course.trim()==="")){cov_1lknkjwzet().b[0][0]++;cov_1lknkjwzet().s[14]++;return res.status(400).json({message:'All fields are required and cannot contain only spaces!'});}else{cov_1lknkjwzet().b[0][1]++;}// Check if email is in the correct format
const emailRegex=(cov_1lknkjwzet().s[15]++,/^[^\s@]+@[^\s@]+\.[^\s@]+$/);cov_1lknkjwzet().s[16]++;if(!emailRegex.test(email)){cov_1lknkjwzet().b[2][0]++;cov_1lknkjwzet().s[17]++;return res.status(400).json({message:'Invalid email format!'});}else{cov_1lknkjwzet().b[2][1]++;}// Check if contact number is 8 digits long and numeric
cov_1lknkjwzet().s[18]++;if((cov_1lknkjwzet().b[4][0]++,contact_no.length!==8)||(cov_1lknkjwzet().b[4][1]++,isNaN(contact_no))){cov_1lknkjwzet().b[3][0]++;cov_1lknkjwzet().s[19]++;return res.status(400).json({message:'Contact number must be exactly 8 digits!'});}else{cov_1lknkjwzet().b[3][1]++;}const allStudents=(cov_1lknkjwzet().s[20]++,await readJSON('utils/students.json'));let studentFound=(cov_1lknkjwzet().s[21]++,false);let unchanged=(cov_1lknkjwzet().s[22]++,false);cov_1lknkjwzet().s[23]++;for(let i=(cov_1lknkjwzet().s[24]++,0);i<allStudents.length;i++){cov_1lknkjwzet().s[25]++;if(allStudents[i].id==id){cov_1lknkjwzet().b[5][0]++;cov_1lknkjwzet().s[26]++;studentFound=true;// Check if the incoming data is unchanged
const existingStudent=(cov_1lknkjwzet().s[27]++,allStudents[i]);cov_1lknkjwzet().s[28]++;if((cov_1lknkjwzet().b[7][0]++,existingStudent.name===name)&&(cov_1lknkjwzet().b[7][1]++,existingStudent.matric_number===matric_no)&&(cov_1lknkjwzet().b[7][2]++,existingStudent.date_of_birth===date_of_birth)&&(cov_1lknkjwzet().b[7][3]++,existingStudent.email===email)&&(cov_1lknkjwzet().b[7][4]++,existingStudent.contact_no===contact_no)&&(cov_1lknkjwzet().b[7][5]++,existingStudent.course===course)){cov_1lknkjwzet().b[6][0]++;cov_1lknkjwzet().s[29]++;unchanged=true;}else{cov_1lknkjwzet().b[6][1]++;cov_1lknkjwzet().s[30]++;// Update the student data
allStudents[i].name=name;cov_1lknkjwzet().s[31]++;allStudents[i].matric_number=matric_no;cov_1lknkjwzet().s[32]++;allStudents[i].date_of_birth=date_of_birth;cov_1lknkjwzet().s[33]++;allStudents[i].email=email;cov_1lknkjwzet().s[34]++;allStudents[i].contact_no=contact_no;cov_1lknkjwzet().s[35]++;allStudents[i].course=course;}}else{cov_1lknkjwzet().b[5][1]++;}}cov_1lknkjwzet().s[36]++;if(!studentFound){cov_1lknkjwzet().b[8][0]++;cov_1lknkjwzet().s[37]++;return res.status(404).json({message:'Student not found!'});}else{cov_1lknkjwzet().b[8][1]++;}cov_1lknkjwzet().s[38]++;if(unchanged){cov_1lknkjwzet().b[9][0]++;cov_1lknkjwzet().s[39]++;return res.status(200).json({message:'No changes detected. Please modify at least one field.'});}else{cov_1lknkjwzet().b[9][1]++;}cov_1lknkjwzet().s[40]++;await writeJSON(allStudents,'utils/students.json');cov_1lknkjwzet().s[41]++;return res.status(201).json({message:'Student modified successfully!'});}catch(error){cov_1lknkjwzet().s[42]++;return res.status(500).json({message:error.message});}}cov_1lknkjwzet().s[43]++;module.exports={readJSON,writeJSON,editStudent};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMWxrbmtqd3pldCIsImFjdHVhbENvdmVyYWdlIiwicHJvbWlzZXMiLCJmcyIsInMiLCJyZXF1aXJlIiwicmVhZEpTT04iLCJmaWxlbmFtZSIsImYiLCJkYXRhIiwicmVhZEZpbGUiLCJKU09OIiwicGFyc2UiLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJFcnJvciIsIndyaXRlSlNPTiIsIndyaXRlRmlsZSIsInN0cmluZ2lmeSIsImVkaXRTdHVkZW50IiwicmVxIiwicmVzIiwiaWQiLCJwYXJhbXMiLCJuYW1lIiwibWF0cmljX25vIiwiZGF0ZV9vZl9iaXJ0aCIsImVtYWlsIiwiY29udGFjdF9ubyIsImNvdXJzZSIsImJvZHkiLCJiIiwidHJpbSIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwiZW1haWxSZWdleCIsInRlc3QiLCJsZW5ndGgiLCJpc05hTiIsImFsbFN0dWRlbnRzIiwic3R1ZGVudEZvdW5kIiwidW5jaGFuZ2VkIiwiaSIsImV4aXN0aW5nU3R1ZGVudCIsIm1hdHJpY19udW1iZXIiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsidXBkYXRlU3R1ZGVudFV0aWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBwcm9taXNlczogZnMgfSA9IHJlcXVpcmUoJ2ZzJyk7XHJcblxyXG5hc3luYyBmdW5jdGlvbiByZWFkSlNPTihmaWxlbmFtZSkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgZnMucmVhZEZpbGUoZmlsZW5hbWUsICd1dGY4Jyk7XHJcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZGF0YSk7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciByZWFkaW5nIGZpbGU6ICR7ZmlsZW5hbWV9YCwgZXJyKTtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCByZWFkIGRhdGEuJyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHdyaXRlSlNPTihkYXRhLCBmaWxlbmFtZSkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBhd2FpdCBmcy53cml0ZUZpbGUoZmlsZW5hbWUsIEpTT04uc3RyaW5naWZ5KGRhdGEsIG51bGwsIDIpLCAndXRmOCcpO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3Igd3JpdGluZyB0byBmaWxlOiAke2ZpbGVuYW1lfWAsIGVycik7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3Qgc2F2ZSBkYXRhLicpO1xyXG4gICAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBlZGl0U3R1ZGVudChyZXEsIHJlcykge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBpZCA9IHJlcS5wYXJhbXMuaWQ7XHJcbiAgICAgICAgY29uc3QgeyBuYW1lLCBtYXRyaWNfbm8sIGRhdGVfb2ZfYmlydGgsIGVtYWlsLCBjb250YWN0X25vLCBjb3Vyc2UgfSA9IHJlcS5ib2R5O1xyXG5cclxuICAgICAgICAvLyBDaGVjayBmb3IgZW1wdHkgZmllbGRzIG9yIGZpZWxkcyB3aXRoIG9ubHkgc3BhY2VzXHJcbiAgICAgICAgaWYgKCFuYW1lIHx8IG5hbWUudHJpbSgpID09PSBcIlwiIHx8IFxyXG4gICAgICAgICAgICAhbWF0cmljX25vIHx8IG1hdHJpY19uby50cmltKCkgPT09IFwiXCIgfHwgXHJcbiAgICAgICAgICAgICFkYXRlX29mX2JpcnRoIHx8IFxyXG4gICAgICAgICAgICAhZW1haWwgfHwgXHJcbiAgICAgICAgICAgICFjb250YWN0X25vIHx8IFxyXG4gICAgICAgICAgICAhY291cnNlIHx8IGNvdXJzZS50cmltKCkgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ0FsbCBmaWVsZHMgYXJlIHJlcXVpcmVkIGFuZCBjYW5ub3QgY29udGFpbiBvbmx5IHNwYWNlcyEnIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgZW1haWwgaXMgaW4gdGhlIGNvcnJlY3QgZm9ybWF0XHJcbiAgICAgICAgY29uc3QgZW1haWxSZWdleCA9IC9eW15cXHNAXStAW15cXHNAXStcXC5bXlxcc0BdKyQvO1xyXG4gICAgICAgIGlmICghZW1haWxSZWdleC50ZXN0KGVtYWlsKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnSW52YWxpZCBlbWFpbCBmb3JtYXQhJyB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGlmIGNvbnRhY3QgbnVtYmVyIGlzIDggZGlnaXRzIGxvbmcgYW5kIG51bWVyaWNcclxuICAgICAgICBpZiAoY29udGFjdF9uby5sZW5ndGggIT09IDggfHwgaXNOYU4oY29udGFjdF9ubykpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ0NvbnRhY3QgbnVtYmVyIG11c3QgYmUgZXhhY3RseSA4IGRpZ2l0cyEnIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgYWxsU3R1ZGVudHMgPSBhd2FpdCByZWFkSlNPTigndXRpbHMvc3R1ZGVudHMuanNvbicpO1xyXG4gICAgICAgIGxldCBzdHVkZW50Rm91bmQgPSBmYWxzZTtcclxuICAgICAgICBsZXQgdW5jaGFuZ2VkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWxsU3R1ZGVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGFsbFN0dWRlbnRzW2ldLmlkID09IGlkKSB7XHJcbiAgICAgICAgICAgICAgICBzdHVkZW50Rm91bmQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBpbmNvbWluZyBkYXRhIGlzIHVuY2hhbmdlZFxyXG4gICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdTdHVkZW50ID0gYWxsU3R1ZGVudHNbaV07XHJcbiAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdTdHVkZW50Lm5hbWUgPT09IG5hbWUgJiZcclxuICAgICAgICAgICAgICAgICAgICBleGlzdGluZ1N0dWRlbnQubWF0cmljX251bWJlciA9PT0gbWF0cmljX25vICYmXHJcbiAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdTdHVkZW50LmRhdGVfb2ZfYmlydGggPT09IGRhdGVfb2ZfYmlydGggJiZcclxuICAgICAgICAgICAgICAgICAgICBleGlzdGluZ1N0dWRlbnQuZW1haWwgPT09IGVtYWlsICYmXHJcbiAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdTdHVkZW50LmNvbnRhY3Rfbm8gPT09IGNvbnRhY3Rfbm8gJiZcclxuICAgICAgICAgICAgICAgICAgICBleGlzdGluZ1N0dWRlbnQuY291cnNlID09PSBjb3Vyc2VcclxuICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHVuY2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgc3R1ZGVudCBkYXRhXHJcbiAgICAgICAgICAgICAgICAgICAgYWxsU3R1ZGVudHNbaV0ubmFtZSA9IG5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYWxsU3R1ZGVudHNbaV0ubWF0cmljX251bWJlciA9IG1hdHJpY19ubztcclxuICAgICAgICAgICAgICAgICAgICBhbGxTdHVkZW50c1tpXS5kYXRlX29mX2JpcnRoID0gZGF0ZV9vZl9iaXJ0aDtcclxuICAgICAgICAgICAgICAgICAgICBhbGxTdHVkZW50c1tpXS5lbWFpbCA9IGVtYWlsO1xyXG4gICAgICAgICAgICAgICAgICAgIGFsbFN0dWRlbnRzW2ldLmNvbnRhY3Rfbm8gPSBjb250YWN0X25vO1xyXG4gICAgICAgICAgICAgICAgICAgIGFsbFN0dWRlbnRzW2ldLmNvdXJzZSA9IGNvdXJzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFzdHVkZW50Rm91bmQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogJ1N0dWRlbnQgbm90IGZvdW5kIScgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodW5jaGFuZ2VkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IG1lc3NhZ2U6ICdObyBjaGFuZ2VzIGRldGVjdGVkLiBQbGVhc2UgbW9kaWZ5IGF0IGxlYXN0IG9uZSBmaWVsZC4nIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYXdhaXQgd3JpdGVKU09OKGFsbFN0dWRlbnRzLCAndXRpbHMvc3R1ZGVudHMuanNvbicpO1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbih7IG1lc3NhZ2U6ICdTdHVkZW50IG1vZGlmaWVkIHN1Y2Nlc3NmdWxseSEnIH0pO1xyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB9KTtcclxuICAgIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICByZWFkSlNPTixcclxuICAgIHdyaXRlSlNPTixcclxuICAgIGVkaXRTdHVkZW50LFxyXG59O1xyXG4iXSwibWFwcGluZ3MiOiIraU5BZVk7QUFBQUEsY0FBQSxTQUFBQSxDQUFBLFNBQUFDLGNBQUEsV0FBQUEsY0FBQSxFQUFBRCxjQUFBLEdBZlosS0FBTSxDQUFFRSxRQUFRLENBQUVDLEVBQUcsQ0FBQyxFQUFBSCxjQUFBLEdBQUFJLENBQUEsTUFB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